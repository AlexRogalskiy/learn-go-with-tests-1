!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t||self).useStreak={})}(this,function(t){function e(){return e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.apply(this,arguments)}var n="streak";function r(t){return t.toLocaleString("en-US").split(",")[0]}function o(t,e){var r=JSON.stringify(e);t.setItem(n,r)}function u(t){try{return JSON.parse(t.getItem(n)||"")}catch(e){return console.error(e,"something went wrong getting the streak. JSON.parse error? initializing and getting streak."),i(t,new Date)}}function i(t,e){var o;return function(t,e){var r=JSON.stringify(e);t.setItem(n,r)}(t,{startDate:r(o=e),lastLoginDate:r(o),currentCount:1}),u(t)}t.useStreak=function(t,s){var a,l=function(t){return null!==t.getItem(n)}(t);if(l){var f=u(t),c=function(t,e){var n=parseInt(t.split("/")[1])-parseInt(e.split("/")[1]);return 0===n?{shouldIncrement:!1,shouldReset:!1}:1===n?{shouldIncrement:!0,shouldReset:!1}:{shouldIncrement:!1,shouldReset:!0}}(r(s),(null==f?void 0:f.lastLoginDate)||"10/21/2021"),g=c.shouldIncrement;if(c.shouldReset){var d={startDate:r(a=s),lastLoginDate:r(a),currentCount:1};return o(t,d),d}if(g){var p=function(t,n){return e({},t,{lastLoginDate:r(n),currentCount:t.currentCount+=1})}(f,s);return o(t,p),p}return f}return i(t,s)}});
//# sourceMappingURL=index.umd.js.map

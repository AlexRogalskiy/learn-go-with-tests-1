function t(){return t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},t.apply(this,arguments)}function n(t){return t.toLocaleString("en-US").split(",")[0]}function e(t,n){const e=JSON.stringify(n);t.setItem("streak",e)}function r(t){try{return JSON.parse(t.getItem("streak")||"")}catch(n){return console.error(n,"something went wrong getting the streak. JSON.parse error? initializing and getting streak."),o(t,new Date)}}function o(t,e){var o;return function(t,n){const e=JSON.stringify(n);t.setItem("streak",e)}(t,{startDate:n(o=e),lastLoginDate:n(o),currentCount:1}),r(t)}function s(s,u){const i=function(t){return null!==t.getItem("streak")}(s);if(i){const o=r(s),{shouldIncrement:i,shouldReset:c}=function(t,n){const e=parseInt(t.split("/")[1])-parseInt(n.split("/")[1]);return 0===e?{shouldIncrement:!1,shouldReset:!1}:1===e?{shouldIncrement:!0,shouldReset:!1}:{shouldIncrement:!1,shouldReset:!0}}(n(u),(null==o?void 0:o.lastLoginDate)||"10/21/2021");if(c){const t={startDate:n(a=u),lastLoginDate:n(a),currentCount:1};return e(s,t),t}if(i){const r=function(e,r){return t({},e,{lastLoginDate:n(r),currentCount:e.currentCount+=1})}(o,u);return e(s,r),r}return o}var a;return o(s,u)}export{s as useStreak};
//# sourceMappingURL=index.modern.js.map

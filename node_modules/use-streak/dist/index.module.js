function t(){return t=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},t.apply(this,arguments)}function r(t){return t.toLocaleString("en-US").split(",")[0]}function n(t,r){var n=JSON.stringify(r);t.setItem("streak",n)}function e(t){try{return JSON.parse(t.getItem("streak")||"")}catch(r){return console.error(r,"something went wrong getting the streak. JSON.parse error? initializing and getting streak."),a(t,new Date)}}function a(t,n){var a;return function(t,r){var n=JSON.stringify(r);t.setItem("streak",n)}(t,{startDate:r(a=n),lastLoginDate:r(a),currentCount:1}),e(t)}function o(o,u){var s,i=function(t){return null!==t.getItem("streak")}(o);if(i){var c=e(o),l=function(t,r){var n=parseInt(t.split("/")[1])-parseInt(r.split("/")[1]);return 0===n?{shouldIncrement:!1,shouldReset:!1}:1===n?{shouldIncrement:!0,shouldReset:!1}:{shouldIncrement:!1,shouldReset:!0}}(r(u),(null==c?void 0:c.lastLoginDate)||"10/21/2021"),f=l.shouldIncrement;if(l.shouldReset){var g={startDate:r(s=u),lastLoginDate:r(s),currentCount:1};return n(o,g),g}if(f){var h=function(n,e){return t({},n,{lastLoginDate:r(e),currentCount:n.currentCount+=1})}(c,u);return n(o,h),h}return c}return a(o,u)}export{o as useStreak};
//# sourceMappingURL=index.module.js.map
